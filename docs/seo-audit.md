# SEO監査メモ（event-guide.jp）

更新日: 2026-02-15

## 1. 現状サマリー

このサイトは、以下のSEO基盤がすでに実装されています。

- 主要ページで `title` / `description` / `canonical` / OGP の基本メタが整備されている。
- `BreadcrumbList` や `ItemList` / `Event` / `Place` の構造化データがページ用途に応じて実装されている。
- `robots.txt` と `sitemap.xml` が配置され、クローラ導線が確保されている。
- JavaScript無効時のフォールバック導線（`noscript`）があり、クロール可能性を補完している。

全体として「土台は強い」状態です。今後の伸びしろは、**重複コンテンツ制御**、**クロール予算最適化**、**リッチリザルト拡張**、**内部リンクの文脈強化**です。

---

## 2. 優先度A（先に着手したい改善）

### A-1. 日付ページの重複・薄いコンテンツ制御ルールを明確化

日付ページは大量に生成されるため、

- イベント件数が極端に少ないページ
- 将来日で内容が類似するページ

が増えると、インデックス効率が落ちる可能性があります。

#### 推奨方針

- 「イベント0件」ページは `noindex,follow` を検討。
- もしくは、0件ページ自体を生成しない（一覧への301/内部リンク導線のみ）運用に統一。
- サイト内ポリシーとして「インデックス対象ページ条件」を明文化。

> 目的: クロール予算を、流入見込みの高いページ（イベント件数がある日・施設詳細）に集中させる。

### A-2. 構造化データに `WebSite` の `potentialAction`（検索アクション）を追加検討

現在トップには `WebSite` がありますが、検索機能の導線（サイト内検索や施設名検索固定URL）があるなら、
`SearchAction` を追加することでサイト理解を補強できます。

#### 推奨方針

- 検索URLが安定している場合のみ導入。
- URL設計が未確定なら先送りし、まず検索ページのURL仕様を確定。

### A-3. OGP/Twitterメタの補完

現状は `twitter:image` はあるものの、`twitter:title` / `twitter:description` / `og:image:alt` が未設定ページがあります。

#### 推奨方針

- すべてのテンプレートに以下を統一追加。
  - `twitter:title`
  - `twitter:description`
  - `og:image:alt`
- 画像は将来的に施設ごとのOGP差し替えを想定して変数化。

> 目的: SNS経由のクリック率向上と、メタ情報の一貫性改善。

---

## 3. 優先度B（次フェーズで実施）

### B-1. 施設詳細ページの `Event` 構造化データの拡張

現状、日付ページの `ItemList` 内では `Event` が使われていますが、施設詳細ページ側でも「開催予定イベント」の先頭数件を `Event` としてJSON-LD化すると、ページテーマがより明確になります。

#### 推奨方針

- 施設詳細ページで表示しているイベントのうち上位3〜10件を `Event` として埋め込む。
- `startDate` / `endDate` / `location` / `url` を最低限含める。
- JSON-LD生成は既存のページ生成スクリプトに統合。

### B-2. 内部リンクのアンカーテキスト最適化

「もっと見る」「詳細を見る」など汎用リンクはUXには有効ですが、SEO的には文脈付きテキストの方が有利です。

#### 推奨方針

- 可能な範囲で「{施設名}のイベント詳細を見る」のような文脈付きに寄せる。
- 重要導線（トップ→施設、トップ→日付）はテキストリンク化を維持。

### B-3. サイトマップ分割の検討

URL数が今後増える前提なら、`sitemap-index.xml` + 種別ごとの分割（date / spot / facility）にして更新差分管理をしやすくしておくと運用が安定します。

---

## 4. 優先度C（運用・計測改善）

### C-1. Search Console前提のKPI設計

以下を定点観測すると、改善効果が判断しやすくなります。

- クエリ: 「地名 + イベント」「施設名 + イベント」
- ページ: `/date/` 系、`/spot/` 系の表示回数・CTR・平均掲載順位
- カバレッジ: 重複、クロール済み未登録、検出-未登録

### C-2. スニペット最適化AB検証

`title` / `description` は既に整っていますが、CTR改善のために2〜3パターンの運用検証が有効です。

- 日付ページ: 「当日開催件数」をタイトル末尾に含める案
- 施設ページ: 「地域名 + 施設カテゴリ」をタイトルに含める案

---

## 5. 想定実施順（最短）

1. 日付ページのインデックス対象ルールを決める（A-1）
2. OGP/Twitterメタの共通テンプレ補完（A-3）
3. 施設ページへの `Event` JSON-LD追加（B-1）
4. 内部リンク文言の改善（B-2）
5. Search ConsoleのKPIダッシュボード化（C-1）

---

## 6. 補足

本メモは、`docs/` 配下の静的HTML・JSON-LD・クローラ関連ファイルの確認をもとにした机上監査です。

次段階では、実際の公開URLに対して

- Search Console
- PageSpeed Insights
- リッチリザルトテスト

の実測値を合わせて優先度を最終確定するのが望ましいです。


---

## 7. 追加の実測チェック（2026-02-15）

机上監査に加えて、`docs/*.html` を対象にメタ要素の有無を機械チェックしました。

### 7-1. メタ要素の抜け漏れ（HTML静的検査）

- `twitter:title` 未設定: `docs/spot/index.html`（ほか2件は検証用HTML/部分テンプレート）
- `twitter:description` 未設定: `docs/spot/index.html`（ほか2件は検証用HTML/部分テンプレート）
- `og:image:alt` 未設定: `docs/spot/index.html`（ほか2件は検証用HTML/部分テンプレート）

> 補足: `docs/google0c365f80d270c9ec.html` はGoogle所有権確認用、`docs/partials/date-ad.html` は部分テンプレートのため、SEO評価対象から除外して扱うのが妥当です。

### 7-2. 構造化データの適用範囲

`application/ld+json` 未設定ページとして、以下の一覧ハブが確認されました。

- `docs/facility/index.html`
- `docs/facility/kagawa/index.html`
- `docs/facility/ehime/index.html`
- `docs/facility/kochi/index.html`
- `docs/facility/tokushima/index.html`
- `docs/facility-name/index.html`

これらは検索意図が明確な「一覧ページ」なので、最低限 `BreadcrumbList` と `ItemList`（施設一覧）を追加すると、
検索エンジンのページ理解がさらに安定します。

### 7-3. 根本原因の整理

今回の抜け漏れは単発の修正漏れというより、**ページ生成テンプレートが種類ごとに分散し、SEO必須項目を共通化できていない**ことが主因です。

- 影響: 新規ページ追加時に同様のメタ欠落が再発しやすい
- 対策: 生成スクリプト側で「SEO必須フィールド検証（title/description/canonical/OGP/Twitter/JSON-LD）」をビルド前チェックとして必須化

---

## 8. 直近2週間の実行プラン（実装優先順）

1. **共通メタテンプレート化（最優先）**
   - 目的: 抜け漏れの再発防止
   - 完了条件: 主要テンプレート全てで `twitter:title` / `twitter:description` / `og:image:alt` を自動出力
2. **一覧ページのJSON-LD追加**
   - 目的: ハブページの意味付け強化
   - 完了条件: `facility` / `facility-name` 系に `BreadcrumbList` + `ItemList`
3. **日付ページのnoindex運用ルール実装**
   - 目的: クロール予算最適化
   - 完了条件: 0件日の扱い（noindex or 非生成）をコード・運用の両方で統一
4. **サイトマップ分割 + 運用手順化**
   - 目的: URL増加時のメンテ性向上
   - 完了条件: `sitemap-index.xml` + 種別サイトマップ + 自動生成手順書
5. **Search Console KPIモニタリング導入**
   - 目的: 改善施策の効果測定
   - 完了条件: `/date/` `/spot/` `/facility/` のクエリ・CTR・順位を週次で観測


---

## 9. 改善方針（実装レベル）

前回の監査結果を「実装に落とし込む」ため、以下の方針で段階的に進めます。

### 9-1. 方針A: SEO必須メタの共通テンプレート化（再発防止の中核）

#### 目的

ページ種別ごとの手書き差分で発生している抜け漏れを防止し、最低限のSEO品質を常に担保する。

#### 具体施策

- 生成スクリプトで `buildSeoMeta(pageType, data)` のような共通関数を用意し、下記を一括生成する。
  - `title`
  - `meta description`
  - `canonical`
  - `og:title` / `og:description` / `og:url` / `og:image` / `og:image:alt`
  - `twitter:card` / `twitter:title` / `twitter:description` / `twitter:image`
- 例外ページ（所有権確認ファイルなど）だけを除外リストで明示管理する。

#### 完了条件

- 主要テンプレート（トップ・日付・施設一覧・施設詳細）で同一ルールのメタが自動出力される。
- 手書きメタ記述を新規追加しない運用に切り替える。

### 9-2. 方針B: 一覧ハブページの構造化データ強化

#### 目的

`facility` / `facility-name` 系ページの「一覧としての意味」を検索エンジンに明確に伝える。

#### 具体施策

- 一覧系ページに `BreadcrumbList` を追加する。
- 一覧表示中の施設リンクを `ItemList` としてJSON-LD出力する。
- 施設詳細ページは将来的に `Place` + 直近イベント `Event`（3〜10件）を追加する。

#### 完了条件

- リッチリザルトテストで構文エラー0。
- 検索結果上でのページ解釈（施設一覧ページのクエリ一致度）改善をSearch Consoleで確認。

### 9-3. 方針C: 日付ページのインデックス制御（クロール効率改善）

#### 目的

大量生成される日付URLに対して、流入価値が低いページのインデックスを抑制し、クロール予算を最適化する。

#### 具体施策

- 「イベント0件」日の扱いを次のいずれかに統一する。
  - `noindex,follow` を付与
  - 0件ページ自体を生成しない（一覧導線へ集約）
- サイトマップ出力時に「インデックス対象条件」を満たすURLのみ収録する。

#### 完了条件

- 運用ルールと生成ロジックの差異がなくなる。
- Search Console の「クロール済み - インデックス未登録」比率の改善。

### 9-4. 方針D: 品質ゲートをCI前提で自動化

#### 目的

担当者依存の目視レビューから、機械判定による品質担保へ移行する。

#### 具体施策

- `scripts/common/check-seo-required.js`（新規）を用意し、以下を検査する。
  - title/description/canonical の有無
  - OGP/Twitter必須タグの有無
  - JSON-LDの有無（ページ種別ごとの必須条件）
- 生成後に必ず実行し、欠落があればCIを失敗させる。

#### 完了条件

- PR時にSEO必須項目の抜け漏れが0件。
- 手動監査は「改善提案」に集中できる状態になる。

### 9-5. 実施順（推奨）

1. 方針A（共通メタ）
2. 方針D（品質ゲート）
3. 方針C（日付ページ制御）
4. 方針B（構造化データ拡張）

> 先に「再発防止（A・D）」を固めることで、以降の改善（B・C）の品質が安定します。
